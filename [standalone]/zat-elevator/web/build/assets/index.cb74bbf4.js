(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function V(){}function At(t,e){for(const n in e)t[n]=e[n];return t}function vt(t){return t()}function st(){return Object.create(null)}function x(t){t.forEach(vt)}function Te(t){return typeof t=="function"}function $(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ht(t){return Object.keys(t).length===0}function Ue(t,e,n,o){if(t){const i=kt(t,e,n,o);return t[0](i)}}function kt(t,e,n,o){return t[1]&&o?At(n.ctx.slice(),t[1](o(e))):n.ctx}function Ye(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)r[l]=e.dirty[l]|i[l];return r}return e.dirty|i}return e.dirty}function Xe(t,e,n,o,i,r){if(i){const s=kt(e,n,o,r);t.p(s,i)}}function We(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function F(t,e){t.appendChild(e)}function L(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function N(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function Z(){return j(" ")}function Ie(){return j("")}function ve(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t){return Array.from(t.childNodes)}function ke(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function U(t,e,n,o){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function lt(t,e,n){t.classList[n?"add":"remove"](e)}function Ot(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}let le;function re(t){le=t}function qe(){if(!le)throw new Error("Function called outside component initialization");return le}function Ge(t){qe().$$.on_mount.push(t)}function Tt(t){qe().$$.on_destroy.push(t)}function Mt(){const t=qe();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Ot(e,n,{cancelable:o});return i.slice().forEach(s=>{s.call(t,r)}),!r.defaultPrevented}return!0}}const Q=[],fe=[],ye=[],He=[],Ut=Promise.resolve();let Fe=!1;function Yt(){Fe||(Fe=!0,Ut.then(It))}function Oe(t){ye.push(t)}function Xt(t){He.push(t)}const Re=new Set;let J=0;function It(){if(J!==0)return;const t=le;do{try{for(;J<Q.length;){const e=Q[J];J++,re(e),Wt(e.$$)}}catch(e){throw Q.length=0,J=0,e}for(re(null),Q.length=0,J=0;fe.length;)fe.pop()();for(let e=0;e<ye.length;e+=1){const n=ye[e];Re.has(n)||(Re.add(n),n())}ye.length=0}while(Q.length);for(;He.length;)He.pop()();Fe=!1,Re.clear(),re(t)}function Wt(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}const be=new Set;let G;function Ee(){G={r:0,c:[],p:G}}function Pe(){G.r||x(G.c),G=G.p}function E(t,e){t&&t.i&&(be.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(be.has(t))return;be.add(t),G.c.push(()=>{be.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function qt(t,e){A(t,1,1,()=>{e.delete(t.key)})}function Gt(t,e,n,o,i,r,s,l,u,f,m,d){let g=t.length,a=r.length,c=g;const M={};for(;c--;)M[t[c].key]=c;const w=[],k=new Map,z=new Map;for(c=a;c--;){const b=d(i,r,c),I=n(b);let C=s.get(I);C?o&&C.p(b,e):(C=f(I,b),C.c()),k.set(I,w[c]=C),I in M&&z.set(I,Math.abs(c-M[I]))}const y=new Set,B=new Set;function O(b){E(b,1),b.m(l,m),s.set(b.key,b),m=b.first,a--}for(;g&&a;){const b=w[a-1],I=t[g-1],C=b.key,v=I.key;b===I?(m=b.first,g--,a--):k.has(v)?!s.has(C)||y.has(C)?O(b):B.has(v)?g--:z.get(C)>z.get(v)?(B.add(C),O(b)):(y.add(v),g--):(u(I,s),g--)}for(;g--;){const b=t[g];k.has(b.key)||u(b,s)}for(;a;)O(w[a-1]);return w}function Vt(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function ze(t){t&&t.c()}function ue(t,e,n,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),o||Oe(()=>{const s=t.$$.on_mount.map(vt).filter(Te);t.$$.on_destroy?t.$$.on_destroy.push(...s):x(s),t.$$.on_mount=[]}),r.forEach(Oe)}function ae(t,e){const n=t.$$;n.fragment!==null&&(x(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(t,e){t.$$.dirty[0]===-1&&(Q.push(t),Yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,n,o,i,r,s,l=[-1]){const u=le;re(t);const f=t.$$={fragment:null,ctx:[],props:r,update:V,not_equal:i,bound:st(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:st(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(f.root);let m=!1;if(f.ctx=n?n(t,e.props||{},(d,g,...a)=>{const c=a.length?a[0]:g;return f.ctx&&i(f.ctx[d],f.ctx[d]=c)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](c),m&&Dt(t,d)),g}):[],f.update(),m=!0,x(f.before_update),f.fragment=o?o(f.ctx):!1,e.target){if(e.hydrate){const d=Ft(e.target);f.fragment&&f.fragment.l(d),d.forEach(R)}else f.fragment&&f.fragment.c();e.intro&&E(t.$$.fragment),ue(t,e.target,e.anchor,e.customElement),It()}re(u)}class ce{$destroy(){ae(this,1),this.$destroy=V}$on(e,n){if(!Te(n))return V;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Ht(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Et(t,e){const n=o=>{const{action:i,data:r}=o.data;i===t&&e(r)};Ge(()=>window.addEventListener("message",n)),Tt(()=>window.removeEventListener("message",n))}async function Pt(t,e={}){const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)},o=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${o}/${t}`,n)).json()}const K=[];function Jt(t,e=V){let n;const o=new Set;function i(l){if($(t,l)&&(t=l,n)){const u=!K.length;for(const f of o)f[1](),K.push(f,t);if(u){for(let f=0;f<K.length;f+=2)K[f][0](K[f+1]);K.length=0}}}function r(l){i(l(t))}function s(l,u=V){const f=[l,u];return o.add(f),o.size===1&&(n=e(i)||V),l(t),()=>{o.delete(f),o.size===0&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}const Be=Jt(!1);function ft(t){let e;const n=t[2].default,o=Ue(n,t,t[1],null);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r&2)&&Xe(o,n,i,i[1],e?Ye(n,i[1],r,null):We(i[1]),null)},i(i){e||(E(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function Kt(t){let e,n,o=t[0]&&ft(t);return{c(){e=N("main"),o&&o.c()},m(i,r){L(i,e,r),o&&o.m(e,null),n=!0},p(i,[r]){i[0]?o?(o.p(i,r),r&1&&E(o,1)):(o=ft(i),o.c(),E(o,1),o.m(e,null)):o&&(Ee(),A(o,1,1,()=>{o=null}),Pe())},i(i){n||(E(o),n=!0)},o(i){A(o),n=!1},d(i){i&&R(e),o&&o.d()}}}function Qt(t,e,n){let{$$slots:o={},$$scope:i}=e,r;return Be.subscribe(s=>{n(0,r=s)}),Et("setVisible",s=>{Be.set(s)}),Ge(()=>{const s=l=>{r&&["Escape"].includes(l.code)&&(Pt("hideUI"),Be.set(!1))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)}),t.$$set=s=>{"$$scope"in s&&n(1,i=s.$$scope)},[r,i,o]}class Zt extends ce{constructor(e){super(),de(this,e,Qt,Kt,$,{})}}function ut(t,e){let n=0;return function(...o){let i=new Date;i-n>=e&&(t(...o),n=i)}}function Y(t,e){const n=t.map(o=>{const i=o[e];return(i&&i.y)+(i&&i.h)||0});return Math.max(...n,1)}const jt=(t,e)=>{const n=e.slice().sort((i,r)=>i[0]-r[0]),o=n.find(i=>{const[r]=i;return t<=r});return o?o[1]:n[n.length-1][1]};function xt(t,e,n){return Y(t,n)*e}const zt=(t,e)=>Array.from(Array(t),()=>new Array(e));function at(t,e,n){let o=zt(e,n);for(var i=0;i<t.length;i++){const l=t[i][n];if(l){const{x:u,y:f,h:m}=l,d=t[i].id,g=Math.min(n,l.w);for(var r=f;r<f+m;r++){const a=o[r];for(var s=u;s<u+g;s++)a[s]={...l,id:d}}}}return o}function $t(t,e,n){const{h:o,x:i,y:r}=n,s=Math.min(e[0].length,n.w),l=e.slice(r,r+o);let u=[];for(var f=0;f<l.length;f++){let m=l[f].slice(i,i+s);u=[...u,...m.map(d=>d.id&&d.id!==n.id&&d.id).filter(Boolean)]}return[...new Set(u)]}function se(t,e,n,o){let i=zt(n,o);for(var r=0;r<t.length;r++){const u=t[r][o],f=t[r].id,{x:m,y:d,h:g}=u,a=Math.min(o,u.w);if(e.indexOf(f)===-1)for(var s=d;s<d+g;s++){const c=i[s];if(c)for(var l=m;l<m+a;l++)c[l]={...u,id:f}}}return i}function en(t,e){return e.filter(n=>t.indexOf(n.id)!==-1)}function Ne(t,e){return e.find(n=>n.id===t)}function Ve(t,e){const n=t[0].length,o=Math.min(n,e.w);let i=n-o,r=t.length;for(var s=0;s<r;s++){const u=t[s];for(var l=0;l<i+1;l++)if(u.slice(l,l+o).every(d=>d===void 0)&&t.slice(s,s+e.h).every(g=>g.slice(l,l+o).every(a=>a===void 0)))return{y:s,x:l}}return{y:r,x:0}}const Ct=(t,e)=>({...t[e],id:t.id}),Me=(t,e,n,o)=>t.map(i=>i.id===e.id?{...i,[o]:{...i[o],...n}}:i);function tn(t,e,n,o){const i=Ct(t,n),r=e.map(d=>d.id).filter(d=>d!==i.id),s=e.filter(d=>d.id!==i.id);let l=Me(e,t,i,n),u=se(l,r,Y(l,n),n),f=l,m=[];return s.forEach(d=>{let g=Ve(u,d[n]);m.push(d.id),f=Me(f,d,g,n);let a=r.filter(c=>m.indexOf(c)===-1);u=se(f,a,Y(f,n),n)}),f}function nn(t,e,n,o){const i=Ct(t,n);let r=se(e,[i.id],Y(e,n),n);const s=$t(e,r,i);let l=en(s,e);if(l.find(g=>g[n].fixed))return e;e=Me(e,t,i,n),r=se(e,s,Y(e,n),n);let f=e,m=s,d=[];return l.forEach(g=>{let a=Ve(r,g[n]);d.push(g.id),f=Me(f,g,a,n);let c=m.filter(M=>d.indexOf(M)===-1);r=se(f,c,Y(f,n),n)}),f}function on(t,e,n){return t.map(o=>{if(!o[e])return o.id}).filter(Boolean)}function rn(t,e,n,o){return o.map(([i,r])=>e[r]&&r).filter(Boolean).reduce(function(i,r){return Math.abs(r-n)<Math.abs(i-n)?r:i})}function dt(t,e,n){let o=at(t,Y(t,e),e);const i=on(t,e);let r=[...t];return i.forEach(s=>{const l=t.find(d=>d.id===s),u=rn(t,l,e,n),f=Ve(o,l[u]),m={...l,[e]:{...l[u],...f}};r=r.map(d=>d.id===s?m:d),o=at(r,Y(r,e),e)}),r}const sn=t=>({}),ct=t=>({movePointerDown:t[18],resizePointerDown:t[19]});function mt(t){let e,n,o;return{c(){e=N("div"),S(e,"class","svlt-grid-resizer svelte-x23om8")},m(i,r){L(i,e,r),n||(o=ve(e,"pointerdown",t[19]),n=!0)},p:V,d(i){i&&R(e),n=!1,o()}}}function ht(t){let e;return{c(){e=N("div"),S(e,"class","svlt-grid-shadow shadow-active svelte-x23om8"),U(e,"width",t[12].w*t[6]-t[8]*2+"px"),U(e,"height",t[12].h*t[7]-t[9]*2+"px"),U(e,"transform","translate("+(t[12].x*t[6]+t[8])+"px, "+(t[12].y*t[7]+t[9])+"px)")},m(n,o){L(n,e,o),t[29](e)},p(n,o){o[0]&4416&&U(e,"width",n[12].w*n[6]-n[8]*2+"px"),o[0]&4736&&U(e,"height",n[12].h*n[7]-n[9]*2+"px"),o[0]&5056&&U(e,"transform","translate("+(n[12].x*n[6]+n[8])+"px, "+(n[12].y*n[7]+n[9])+"px)")},d(n){n&&R(e),t[29](null)}}}function ln(t){let e,n,o,i,r,s,l,u;const f=t[28].default,m=Ue(f,t,t[27],ct);let d=t[4]&&!t[10].customResizer&&mt(t),g=(t[13]||t[16])&&ht(t);return{c(){e=N("div"),m&&m.c(),n=Z(),d&&d.c(),i=Z(),g&&g.c(),r=Ie(),S(e,"draggable",!1),S(e,"class","svlt-grid-item svelte-x23om8"),S(e,"style",o="width: "+(t[13]?t[15].width:t[0])+"px; height:"+(t[13]?t[15].height:t[1])+"px; "+(t[13]?`transform: translate(${t[14].x}px, ${t[14].y}px);top:${t[17].top}px;left:${t[17].left}px;`:t[16]?`transform: translate(${t[14].x}px, ${t[14].y}px); position:absolute; transition: width 0.2s, height 0.2s;`:`transition: transform 0.2s, opacity 0.2s; transform: translate(${t[2]}px, ${t[3]}px); `)),lt(e,"svlt-grid-active",t[13]||t[16]&&t[17])},m(a,c){L(a,e,c),m&&m.m(e,null),F(e,n),d&&d.m(e,null),L(a,i,c),g&&g.m(a,c),L(a,r,c),s=!0,l||(u=ve(e,"pointerdown",function(){Te(t[10]&&t[10].customDragger?null:t[5]&&t[18])&&(t[10]&&t[10].customDragger?null:t[5]&&t[18]).apply(this,arguments)}),l=!0)},p(a,c){t=a,m&&m.p&&(!s||c[0]&134217728)&&Xe(m,f,t,t[27],s?Ye(f,t[27],c,sn):We(t[27]),ct),t[4]&&!t[10].customResizer?d?d.p(t,c):(d=mt(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||c[0]&253967&&o!==(o="width: "+(t[13]?t[15].width:t[0])+"px; height:"+(t[13]?t[15].height:t[1])+"px; "+(t[13]?`transform: translate(${t[14].x}px, ${t[14].y}px);top:${t[17].top}px;left:${t[17].left}px;`:t[16]?`transform: translate(${t[14].x}px, ${t[14].y}px); position:absolute; transition: width 0.2s, height 0.2s;`:`transition: transform 0.2s, opacity 0.2s; transform: translate(${t[2]}px, ${t[3]}px); `)))&&S(e,"style",o),(!s||c[0]&204800)&&lt(e,"svlt-grid-active",t[13]||t[16]&&t[17]),t[13]||t[16]?g?g.p(t,c):(g=ht(t),g.c(),g.m(r.parentNode,r)):g&&(g.d(1),g=null)},i(a){s||(E(m,a),s=!0)},o(a){A(m,a),s=!1},d(a){a&&R(e),m&&m.d(a),d&&d.d(),a&&R(i),g&&g.d(a),a&&R(r),l=!1,u()}}}function fn(t,e,n){let{$$slots:o={},$$scope:i}=e;const r=Mt();let{sensor:s}=e,{width:l}=e,{height:u}=e,{left:f}=e,{top:m}=e,{resizable:d}=e,{draggable:g}=e,{id:a}=e,{container:c}=e,{xPerPx:M}=e,{yPerPx:w}=e,{gapX:k}=e,{gapY:z}=e,{item:y}=e,{max:B}=e,{min:O}=e,{cols:b}=e,{nativeContainer:I}=e,C,v={},X=!1,me,he,ee={x:0,y:0},_={x:0,y:0},p={width:l,height:u},T=!1,Ke;const Qe=()=>{const h=C.getBoundingClientRect(),H=te.left+_.x,P=te.top+_.y;n(14,_.x=v.x*M+k-(h.x-H),_),n(14,_.y=v.y*w+z-(h.y-P),_),n(13,X=!1),n(16,T=!0),clearTimeout(Ke),Ke=setTimeout(()=>{n(16,T=!1)},100),r("pointerup",{id:a})};let ge=(h,H)=>{r("repaint",{id:a,shadow:v,isPointerUp:H,onUpdate:h})},Ze=0,_e,te,ne;const je=h=>{if(h===document.documentElement||!h){const{height:H,top:P,right:W,bottom:q,left:pe}=I.getBoundingClientRect();return{top:Math.max(0,P),bottom:Math.min(window.innerHeight,q)}}return h.getBoundingClientRect()},xe=h=>h||document.documentElement,$e=({clientX:h,clientY:H,target:P})=>{me=h,he=H,ee={x:f,y:m},n(12,v={x:y.x,y:y.y,w:y.w,h:y.h}),n(15,p={width:l,height:u}),_e=je(c),ne=xe(c),n(14,_={x:0,y:0}),n(17,te=P.closest(".svlt-grid-item").getBoundingClientRect()),n(13,X=!0),n(16,T=!1),Ze=ne.scrollTop,window.addEventListener("pointermove",nt),window.addEventListener("pointerup",ot)};let we={x:0,y:0},oe={x:0,y:0},ie=0;const et=()=>{clearInterval(ie),ie=!1,we={x:0,y:0},oe={x:0,y:0}},tt=()=>{const h=ne.scrollTop-Ze,H=ee.x+_.x,P=ee.y+(_.y+h);let W=Math.round(H/M),q=Math.round(P/w);n(12,v.x=Math.max(Math.min(W,b-v.w),0),v),n(12,v.y=Math.max(q,0),v),B.y&&n(12,v.y=Math.min(v.y,B.y),v),ge()},nt=h=>{h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation();const{clientX:H,clientY:P}=h;n(14,_={x:H-me,y:P-he});const W=s;let q=Math.max(0,(_e.top+W-P)/W),pe=Math.max(0,(P-(_e.bottom-W))/W);const Nt=q>0&&pe===0,Lt=pe>0&&q===0;we.y=Nt?-1:Lt?1:0,oe.y=we.y===-1?q:pe,oe.y>0?ie||(ie=setInterval(()=>{ne.scrollTop+=2*(oe.y+Math.sign(oe.y))*we.y,tt()},10)):ie?et():tt()},ot=h=>{et(),window.removeEventListener("pointerdown",$e),window.removeEventListener("pointermove",nt),window.removeEventListener("pointerup",ot),ge(Qe,!0)};let Ce={x:0,y:0},Se={width:0,height:0};const Rt=h=>{h.stopPropagation();const{pageX:H,pageY:P}=h;Ce={x:H,y:P},Se={width:l,height:u},n(14,_={x:0,y:0}),n(17,te=h.target.closest(".svlt-grid-item").getBoundingClientRect()),n(15,p={width:l,height:u}),n(13,X=!0),n(16,T=!1),n(12,v={x:y.x,y:y.y,w:y.w,h:y.h}),_e=je(c),ne=xe(c),window.addEventListener("pointermove",it),window.addEventListener("pointerup",rt)},it=({pageX:h,pageY:H})=>{n(15,p.width=Se.width+h-Ce.x,p),n(15,p.height=Se.height+H-Ce.y,p);let P=b-v.x;P=Math.min(B.w,P)||P,n(15,p.width=Math.max(Math.min(p.width,P*M-k*2),O.w*M-k*2),p),n(15,p.height=Math.max(p.height,O.h*w-z*2),p),B.h&&n(15,p.height=Math.min(p.height,B.h*w-z*2),p),n(12,v.w=Math.round((p.width+k*2)/M),v),n(12,v.h=Math.round((p.height+z*2)/w),v),ge()},rt=h=>{h.stopPropagation(),ge(Qe,!0),window.removeEventListener("pointermove",it),window.removeEventListener("pointerup",rt)};function Bt(h){fe[h?"unshift":"push"](()=>{C=h,n(11,C)})}return t.$$set=h=>{"sensor"in h&&n(20,s=h.sensor),"width"in h&&n(0,l=h.width),"height"in h&&n(1,u=h.height),"left"in h&&n(2,f=h.left),"top"in h&&n(3,m=h.top),"resizable"in h&&n(4,d=h.resizable),"draggable"in h&&n(5,g=h.draggable),"id"in h&&n(21,a=h.id),"container"in h&&n(22,c=h.container),"xPerPx"in h&&n(6,M=h.xPerPx),"yPerPx"in h&&n(7,w=h.yPerPx),"gapX"in h&&n(8,k=h.gapX),"gapY"in h&&n(9,z=h.gapY),"item"in h&&n(10,y=h.item),"max"in h&&n(23,B=h.max),"min"in h&&n(24,O=h.min),"cols"in h&&n(25,b=h.cols),"nativeContainer"in h&&n(26,I=h.nativeContainer),"$$scope"in h&&n(27,i=h.$$scope)},[l,u,f,m,d,g,M,w,k,z,y,C,v,X,_,p,T,te,$e,Rt,s,a,c,B,O,b,I,i,o,Bt]}class un extends ce{constructor(e){super(),de(this,e,fn,ln,$,{sensor:20,width:0,height:1,left:2,top:3,resizable:4,draggable:5,id:21,container:22,xPerPx:6,yPerPx:7,gapX:8,gapY:9,item:10,max:23,min:24,cols:25,nativeContainer:26},null,[-1,-1])}}function gt(t,e,n){const o=t.slice();return o[28]=e[n],o[30]=n,o}const an=t=>({movePointerDown:t[1]&2,resizePointerDown:t[1]&1,dataItem:t[0]&1,item:t[0]&17,index:t[0]&1}),_t=t=>({movePointerDown:t[32],resizePointerDown:t[31],dataItem:t[28],item:t[28][t[4]],index:t[30]});function wt(t){let e=[],n=new Map,o,i,r=t[0];const s=l=>l[28].id;for(let l=0;l<r.length;l+=1){let u=gt(t,r,l),f=s(u);n.set(f,e[l]=yt(f,u))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();o=Ie()},m(l,u){for(let f=0;f<e.length;f+=1)e[f].m(l,u);L(l,o,u),i=!0},p(l,u){u[0]&2105213|u[1]&3&&(r=l[0],Ee(),e=Gt(e,u,s,1,l,r,n,o.parentNode,qt,yt,o,gt),Pe())},i(l){if(!i){for(let u=0;u<r.length;u+=1)E(e[u]);i=!0}},o(l){for(let u=0;u<e.length;u+=1)A(e[u]);i=!1},d(l){for(let u=0;u<e.length;u+=1)e[u].d(l);l&&R(o)}}}function pt(t){let e;const n=t[19].default,o=Ue(n,t,t[21],_t);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),e=!0},p(i,r){o&&o.p&&(!e||r[0]&2097169|r[1]&3)&&Xe(o,n,i,i[21],e?Ye(n,i[21],r,an):We(i[21]),_t)},i(i){e||(E(o,i),e=!0)},o(i){A(o,i),e=!1},d(i){o&&o.d(i)}}}function dn(t){let e,n,o=t[28][t[4]]&&pt(t);return{c(){o&&o.c(),e=Z()},m(i,r){o&&o.m(i,r),L(i,e,r),n=!0},p(i,r){i[28][i[4]]?o?(o.p(i,r),r[0]&17&&E(o,1)):(o=pt(i),o.c(),E(o,1),o.m(e.parentNode,e)):o&&(Ee(),A(o,1,1,()=>{o=null}),Pe())},i(i){n||(E(o),n=!0)},o(i){A(o),n=!1},d(i){o&&o.d(i),i&&R(e)}}}function yt(t,e){let n,o,i;return o=new un({props:{id:e[28].id,resizable:e[28][e[4]]&&e[28][e[4]].resizable,draggable:e[28][e[4]]&&e[28][e[4]].draggable,xPerPx:e[6],yPerPx:e[10],width:Math.min(e[4],e[28][e[4]]&&e[28][e[4]].w)*e[6]-e[9]*2,height:(e[28][e[4]]&&e[28][e[4]].h)*e[10]-e[8]*2,top:(e[28][e[4]]&&e[28][e[4]].y)*e[10]+e[8],left:(e[28][e[4]]&&e[28][e[4]].x)*e[6]+e[9],item:e[28][e[4]],min:e[28][e[4]]&&e[28][e[4]].min,max:e[28][e[4]]&&e[28][e[4]].max,cols:e[4],gapX:e[9],gapY:e[8],sensor:e[3],container:e[2],nativeContainer:e[5],$$slots:{default:[dn,({resizePointerDown:r,movePointerDown:s})=>({31:r,32:s}),({resizePointerDown:r,movePointerDown:s})=>[0,(r?1:0)|(s?2:0)]]},$$scope:{ctx:e}}}),o.$on("repaint",e[12]),o.$on("pointerup",e[11]),{key:t,first:null,c(){n=Ie(),ze(o.$$.fragment),this.first=n},m(r,s){L(r,n,s),ue(o,r,s),i=!0},p(r,s){e=r;const l={};s[0]&1&&(l.id=e[28].id),s[0]&17&&(l.resizable=e[28][e[4]]&&e[28][e[4]].resizable),s[0]&17&&(l.draggable=e[28][e[4]]&&e[28][e[4]].draggable),s[0]&64&&(l.xPerPx=e[6]),s[0]&593&&(l.width=Math.min(e[4],e[28][e[4]]&&e[28][e[4]].w)*e[6]-e[9]*2),s[0]&273&&(l.height=(e[28][e[4]]&&e[28][e[4]].h)*e[10]-e[8]*2),s[0]&273&&(l.top=(e[28][e[4]]&&e[28][e[4]].y)*e[10]+e[8]),s[0]&593&&(l.left=(e[28][e[4]]&&e[28][e[4]].x)*e[6]+e[9]),s[0]&17&&(l.item=e[28][e[4]]),s[0]&17&&(l.min=e[28][e[4]]&&e[28][e[4]].min),s[0]&17&&(l.max=e[28][e[4]]&&e[28][e[4]].max),s[0]&16&&(l.cols=e[4]),s[0]&512&&(l.gapX=e[9]),s[0]&256&&(l.gapY=e[8]),s[0]&8&&(l.sensor=e[3]),s[0]&4&&(l.container=e[2]),s[0]&32&&(l.nativeContainer=e[5]),s[0]&2097169|s[1]&3&&(l.$$scope={dirty:s,ctx:e}),o.$set(l)},i(r){i||(E(o.$$.fragment,r),i=!0)},o(r){A(o.$$.fragment,r),i=!1},d(r){r&&R(n),ae(o,r)}}}function cn(t){let e,n,o=(t[6]||!t[1])&&wt(t);return{c(){e=N("div"),o&&o.c(),S(e,"class","svlt-grid-container svelte-1k5vgfu"),U(e,"height",t[7]+"px")},m(i,r){L(i,e,r),o&&o.m(e,null),t[20](e),n=!0},p(i,r){i[6]||!i[1]?o?(o.p(i,r),r[0]&66&&E(o,1)):(o=wt(i),o.c(),E(o,1),o.m(e,null)):o&&(Ee(),A(o,1,1,()=>{o=null}),Pe()),(!n||r[0]&128)&&U(e,"height",i[7]+"px")},i(i){n||(E(o),n=!0)},o(i){A(o),n=!1},d(i){i&&R(e),o&&o.d(),t[20](null)}}}function mn(t,e,n){let o,i,r,{$$slots:s={},$$scope:l}=e;const u=Mt();let{fillSpace:f=!1}=e,{items:m}=e,{rowHeight:d}=e,{cols:g}=e,{gap:a=[10,10]}=e,{fastStart:c=!1}=e,{throttleUpdate:M=100}=e,{throttleResize:w=100}=e,{scroller:k=void 0}=e,{sensor:z=20}=e,y,B,O=0,b=d,I;const C=_=>{u("pointerup",{id:_.detail.id,cols:y})},v=ut(()=>{n(0,m=dt(m,y,g)),u("resize",{cols:y,xPerPx:O,yPerPx:b,width:I})},M);Ge(()=>{const _=new ResizeObserver(p=>{requestAnimationFrame(()=>{let T=p[0].contentRect.width;T!==I&&(n(4,y=jt(T,g)),n(6,O=T/y),I?v():(n(0,m=dt(m,y,g)),u("mount",{cols:y,xPerPx:O,yPerPx:b})),I=T)})});return _.observe(B),()=>_.disconnect()});const X=({detail:_})=>{let p=Ne(_.id,m);p&&(p={...p,[y]:{...p[y],..._.shadow}},f?n(0,m=tn(p,m,y,Ne(_.id,m))):n(0,m=nn(p,m,y,Ne(_.id,m))),_.onUpdate&&_.onUpdate(),u("change",{unsafeItem:p,id:p.id,cols:y}))},me=ut(X,w),he=({detail:_})=>{_.isPointerUp?X({detail:_}):me({detail:_})};function ee(_){fe[_?"unshift":"push"](()=>{B=_,n(5,B)})}return t.$$set=_=>{"fillSpace"in _&&n(13,f=_.fillSpace),"items"in _&&n(0,m=_.items),"rowHeight"in _&&n(14,d=_.rowHeight),"cols"in _&&n(15,g=_.cols),"gap"in _&&n(16,a=_.gap),"fastStart"in _&&n(1,c=_.fastStart),"throttleUpdate"in _&&n(17,M=_.throttleUpdate),"throttleResize"in _&&n(18,w=_.throttleResize),"scroller"in _&&n(2,k=_.scroller),"sensor"in _&&n(3,z=_.sensor),"$$scope"in _&&n(21,l=_.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&65536&&n(9,[o,i]=a,o,(n(8,i),n(16,a))),t.$$.dirty[0]&17&&n(7,r=xt(m,b,y))},[m,c,k,z,y,B,O,r,i,o,b,C,he,f,d,g,a,M,w,s,ee,l]}class hn extends ce{constructor(e){super(),de(this,e,mn,cn,$,{fillSpace:13,items:0,rowHeight:14,cols:15,gap:16,fastStart:1,throttleUpdate:17,throttleResize:18,scroller:2,sensor:3},null,[-1,-1])}}const De=(t,e)=>Array.from(Array(t),()=>new Array(e));function St(t,e,n){let o=De(e,n);for(var i=0;i<t.length;i++){const l=t[i][n];if(l){const{x:u,y:f,h:m}=l,d=t[i].id,g=Math.min(n,l.w);for(var r=f;r<f+m;r++){const a=o[r];for(var s=u;s<u+g;s++)a[s]={...l,id:d}}}}return o}function gn(t,e,n){const{h:o,x:i,y:r}=n,s=Math.min(e[0].length,n.w),l=e.slice(r,r+o);let u=[];for(var f=0;f<l.length;f++){let m=l[f].slice(i,i+s);u=[...u,...m.map(d=>d.id&&d.id!==n.id&&d.id).filter(Boolean)]}return[...new Set(u)]}function Le(t,e,n,o){let i=De(n,o);for(var r=0;r<t.length;r++){const u=t[r][o],f=t[r].id,{x:m,y:d,h:g}=u,a=Math.min(o,u.w);if(e.indexOf(f)===-1)for(var s=d;s<d+g;s++){const c=i[s];if(c)for(var l=m;l<m+a;l++)c[l]={...u,id:f}}}return i}function _n(t,e){return e.filter(n=>t.indexOf(n.id)!==-1)}function D(t,e){const n=t.map(o=>{const i=o[e];return(i&&i.y)+(i&&i.h)||0});return Math.max(...n,1)}function Je(t,e){const n=t[0].length,o=Math.min(n,e.w);let i=n-o,r=t.length;for(var s=0;s<r;s++){const u=t[s];for(var l=0;l<i+1;l++)if(u.slice(l,l+o).every(d=>d===void 0)&&t.slice(s,s+e.h).every(g=>g.slice(l,l+o).every(a=>a===void 0)))return{y:s,x:l}}return{y:r,x:0}}const wn=(t,e)=>({...t[e],id:t.id}),bt=(t,e,n,o)=>t.map(i=>i.id===e.id?{...i,[o]:{...i[o],...n}}:i);function pn(t,e,n,o){const i=wn(t,n);let r=Le(e,[i.id],D(e,n),n);const s=gn(e,r,i);let l=_n(s,e);if(l.find(g=>g[n].fixed))return e;e=bt(e,t,i,n),r=Le(e,s,D(e,n),n);let f=e,m=s,d=[];return l.forEach(g=>{let a=Je(r,g[n]);d.push(g.id),f=bt(f,g,a,n);let c=m.filter(M=>d.indexOf(M)===-1);r=Le(f,c,D(f,n),n)}),f}function yn(t,e){let n=t.slice();return n.forEach(o=>{const i=o[e];i.static||(n=pn(i,n,e))}),n}function bn(t,e){let n=De(D(t,e),e);return t.toSorted((i,r)=>{const s=i[e],l=r[e];return s.x-l.x||s.y-l.y}).reduce((i,r)=>{let s=Je(n,r[e]);return i.push({...r,[e]:{...r[e],...s}}),n=St(i,D(i,e),e),i},[])}function vn(t){const{min:e={w:1,h:1},max:n}=t;return{fixed:!1,resizable:!t.fixed,draggable:!t.fixed,customDragger:!1,customResizer:!1,min:{w:Math.max(1,e.w),h:Math.max(1,e.h)},max:{...n},...t}}const Ae={normalize(t,e){return D(t,e),yn(t,e)},adjust(t,e){return bn(t,e)},item(t){return vn(t)},findSpace(t,e,n){let o=St(e,D(e,n),n);return Je(o,t[n])}};function kn(t){let e,n,o=t[11].floor+"",i,r,s;function l(){return t[6](t[11])}function u(){return t[7](t[11])}return{c(){e=N("div"),n=N("p"),i=j(o),S(n,"class","svelte-1df79gk"),S(e,"class","numbers svelte-1df79gk")},m(f,m){L(f,e,m),F(e,n),F(n,i),r||(s=[ve(e,"mouseover",l),ve(e,"click",u)],r=!0)},p(f,m){t=f,m&2048&&o!==(o=t[11].floor+"")&&ke(i,o)},d(f){f&&R(e),r=!1,x(s)}}}function Mn(t){let e,n,o=t[11].floor+"",i;return{c(){e=N("div"),n=N("p"),i=j(o),S(n,"class","svelte-1df79gk"),S(e,"class","disablednumbers svelte-1df79gk")},m(r,s){L(r,e,s),F(e,n),F(n,i)},p(r,s){s&2048&&o!==(o=r[11].floor+"")&&ke(i,o)},d(r){r&&R(e)}}}function In(t){let e;function n(r,s){return r[11].disabled?Mn:kn}let o=n(t),i=o(t);return{c(){i.c(),e=Ie()},m(r,s){i.m(r,s),L(r,e,s)},p(r,s){o===(o=n(r))&&i?i.p(r,s):(i.d(1),i=o(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&R(e)}}}function En(t){let e,n,o,i,r,s,l,u,f,m,d,g,a;function c(w){t[8](w)}let M={rowHeight:100,cols:t[3],$$slots:{default:[In,({item:w,dataItem:k})=>({10:w,11:k}),({item:w,dataItem:k})=>(w?1024:0)|(k?2048:0)]},$$scope:{ctx:t}};return t[0]!==void 0&&(M.items=t[0]),d=new hn({props:M}),fe.push(()=>Vt(d,"items",c)),{c(){e=N("div"),n=N("h2"),n.textContent="Select Floor",o=Z(),i=N("div"),r=N("p"),s=j(t[1]),l=Z(),u=N("h1"),f=j(t[2]),m=Z(),ze(d.$$.fragment),S(n,"class","svelte-1df79gk"),S(r,"class","svelte-1df79gk"),S(u,"class","svelte-1df79gk"),S(i,"class","hoveredNumber svelte-1df79gk"),S(e,"class","container svelte-1df79gk")},m(w,k){L(w,e,k),F(e,n),F(e,o),F(e,i),F(i,r),F(r,s),F(i,l),F(i,u),F(u,f),F(e,m),ue(d,e,null),a=!0},p(w,[k]){(!a||k&2)&&ke(s,w[1]),(!a||k&4)&&ke(f,w[2]);const z={};k&6144&&(z.$$scope={dirty:k,ctx:w}),!g&&k&1&&(g=!0,z.items=w[0],Xt(()=>g=!1)),d.$set(z)},i(w){a||(E(d.$$.fragment,w),a=!0)},o(w){A(d.$$.fragment,w),a=!1},d(w){w&&R(e),ae(d)}}}function Pn(t,e,n){let o=[],i=[],r="Welcome",s="";const l=[[1200,24]];function u(a,c){n(1,r=a),n(2,s=c)}Et("SendData",a=>{o=[],console.log(a.name),o.name=a.name,o.coords=a.coords;for(let c=0;c<a.floor.length;c++)c%3==0?i.push({id:c,disabled:a.floor[c].disabled,floor:a.floor[c].floor,name:a.floor[c].name,coords:a.floor[c].coords,24:Ae.item({x:0,y:c/3*.72,w:3,h:3,fixed:!0})}):c%3==1?i.push({id:c,disabled:a.floor[c].disabled,floor:a.floor[c].floor,name:a.floor[c].name,coords:a.floor[c].coords,24:Ae.item({x:7.5,y:(c-1)/3*.72,w:3,h:3,fixed:!0})}):i.push({id:c,disabled:a.floor[c].disabled,floor:a.floor[c].floor,name:a.floor[c].name,coords:a.floor[c].coords,24:Ae.item({x:15,y:(c-2)/3*.72,w:3,h:3,fixed:!0})});n(0,i),o=o,n(2,s=o.name)});function f(a){Pt("zat-elevator:client:GoTo",a)}const m=a=>{u(a.floor,a.name)},d=a=>f(a.id);function g(a){i=a,n(0,i)}return[i,r,s,l,u,f,m,d,g]}class zn extends ce{constructor(e){super(),de(this,e,Pn,En,$,{})}}const Cn=()=>!window.invokeNative,Sn=(t,e=1e3)=>{if(Cn())for(const n of t)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))},e)};function Rn(t){let e,n;return e=new zn({}),{c(){ze(e.$$.fragment)},m(o,i){ue(e,o,i),n=!0},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){ae(e,o)}}}function Bn(t){let e,n,o;return n=new Zt({props:{$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){e=N("main"),ze(n.$$.fragment)},m(i,r){L(i,e,r),ue(n,e,null),o=!0},p(i,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:i}),n.$set(s)},i(i){o||(E(n.$$.fragment,i),o=!0)},o(i){A(n.$$.fragment,i),o=!1},d(i){i&&R(e),ae(n)}}}function Nn(t){return Sn([{action:"setVisible",data:!0}]),[]}class Ln extends ce{constructor(e){super(),de(this,e,Nn,Bn,$,{})}}new Ln({target:document.getElementById("app")});
